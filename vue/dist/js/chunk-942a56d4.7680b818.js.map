{"version":3,"sources":["webpack:///./src/views/News.vue","webpack:///./src/views/News.vue?e350","webpack:///./src/views/News.vue?89f3"],"names":["class","_createElementBlock","_createVNode","_component_el_card","style","_createElementVNode","_component_el_table","data","$setup","newsList","_component_el_table_column","prop","label","width","default","_withCtx","row","_component_el_link","onClick","$event","showDetail","title","formatDate","time","selectedNews","_createBlock","_hoisted_1","_toDisplayString","_hoisted_2","innerHTML","content","_hoisted_4","_component_el_button","closeDetail","_cache","name","setup","ref","router","useRouter","fetchNews","async","response","request","get","value","records","error","console","ElMessage","news","push","params","id","date","Intl","DateTimeFormat","year","month","day","hour","minute","second","format","Date","onMounted","__exports__","render"],"mappings":"yKAoBUA,MAAM,gB,GACPA,MAAM,e,mBAEJA,MAAM,oB,gSAtBfC,gCA0BM,YAzBJC,yBAcUC,EAAA,CAdDC,MAAA,kCAAsC,C,6BAC7C,IAAmC,C,YAAnCC,gCAAmC,MAA/BD,MAAA,kBAAsB,QAAI,IAC9BF,yBAWWI,EAAA,CAXAC,KAAMC,EAAAC,SAAUL,MAAA,gB,8BACzB,IAIkB,CAJlBF,yBAIkBQ,EAAA,CAJDC,KAAK,QAAQC,MAAM,KAAKC,MAAM,O,CAClCC,QAAOC,qBAChB,EADoBC,SAAG,CACvBd,yBAA2De,EAAA,CAAjDC,QAAKC,GAAEX,EAAAY,WAAWJ,I,8BAAM,IAAe,C,0DAAZA,EAAIK,OAAK,K,+BAGlDnB,yBAIkBQ,EAAA,CAJDC,KAAK,OAAOC,MAAM,KAAKC,MAAM,O,CACjCC,QAAOC,qBAChB,EADoBC,SAAG,C,0DACpBR,EAAAc,WAAWN,EAAIO,OAAI,K,iCAOff,EAAAgB,c,yBAAfC,yBAOUtB,EAAA,C,MAPmBC,MAAA,kC,8BAC3B,IAAsD,CAAtDC,gCAAsD,KAAtDqB,EAAsDC,6BAA1BnB,EAAAgB,aAAaH,OAAK,GAC9ChB,gCAA8D,IAA9DuB,EAA8DD,6BAApCnB,EAAAc,WAAWd,EAAAgB,aAAaD,OAAI,GACtDlB,gCAAyC,OAApCwB,UAAQrB,EAAAgB,aAAaM,S,UAC1BzB,gCAEM,MAFN0B,EAEM,CADJ7B,yBAA8C8B,EAAA,CAAlCd,QAAOV,EAAAyB,aAAW,C,6BAAE,IAAEC,EAAA,KAAAA,EAAA,I,6BAAF,S,0HAYzB,GACbC,KAAM,aACNC,QACE,MAAM3B,EAAW4B,iBAAI,IACfb,EAAea,iBAAI,MACnBC,EAASC,iBAGTC,EAAYC,UAChB,IACE,MAAMC,QAAiBC,OAAQC,IAAI,SACnCnC,EAASoC,MAAQH,EAASnC,KAAKuC,QAC/B,MAAOC,GACPC,QAAQD,MAAM,YAAaA,GAC3BE,OAAUF,MAAM,qBAKd3B,EAAc8B,IAElBZ,EAAOa,KAAK,CAAEhB,KAAM,cAAgBiB,OAAQ,CAACC,GAAIH,EAAKG,OAIlDpB,EAAcA,KAClBT,EAAaqB,MAAQ,MAIjBvB,EAAcgC,GACX,IAAIC,KAAKC,eAAe,QAAS,CACtCC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YACPC,OAAO,IAAIC,KAAKV,IAKrB,OAFAW,uBAAUzB,GAEH,CACL/B,WACAe,eACAF,aACAF,aACAa,iB,iCC7EN,MAAMiC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/chunk-942a56d4.7680b818.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-card style=\"width: 80%; margin: 40px auto;\">\r\n      <h2 style=\"padding: 30px\">资源动态</h2>\r\n      <el-table :data=\"newsList\" style=\"width: 100%\">\r\n        <el-table-column prop=\"title\" label=\"标题\" width=\"800\">\r\n          <template #default=\"{ row }\">\r\n            <el-link @click=\"showDetail(row)\">{{ row.title }}</el-link>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"time\" label=\"时间\" width=\"340\">\r\n          <template #default=\"{ row }\">\r\n            {{ formatDate(row.time) }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 显示详情 -->\r\n    <el-card v-if=\"selectedNews\" style=\"width: 80%; margin: 40px auto;\">\r\n      <h3 class=\"detail-title\">{{ selectedNews.title }}</h3>\r\n      <p class=\"detail-time\">{{ formatDate(selectedNews.time) }}</p>\r\n      <div v-html=\"selectedNews.content\"></div>\r\n      <div class=\"button-container\">\r\n        <el-button @click=\"closeDetail\">关闭</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport request from '@/utils/request';\r\nimport { ElMessage } from 'element-plus';\r\nimport { useRouter } from 'vue-router';  // 导入 useRouter 钩子\r\n\r\nexport default {\r\n  name: \"LatestNews\",\r\n  setup() {\r\n    const newsList = ref([]);\r\n    const selectedNews = ref(null);\r\n    const router = useRouter(); // 使用 useRouter 获取路由实例\r\n\r\n    // 获取最新新闻\r\n    const fetchNews = async () => {\r\n      try {\r\n        const response = await request.get('/news');\r\n        newsList.value = response.data.records;\r\n      } catch (error) {\r\n        console.error('获取最新资讯失败:', error);\r\n        ElMessage.error('获取最新资讯失败，请稍后重试。');\r\n      }\r\n    };\r\n\r\n    // 显示详情\r\n    const showDetail = (news) => {\r\n      // 使用 router.push 跳转到新闻详情页面\r\n      router.push({ name: 'NewsDetails' , params: {id: news.id}});\r\n    };\r\n\r\n    // 关闭详情\r\n    const closeDetail = () => {\r\n      selectedNews.value = null;\r\n    };\r\n\r\n    // 格式化日期\r\n    const formatDate = (date) => {\r\n      return new Intl.DateTimeFormat('zh-CN', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit',\r\n      }).format(new Date(date));\r\n    };\r\n\r\n    onMounted(fetchNews);\r\n\r\n    return {\r\n      newsList,\r\n      selectedNews,\r\n      formatDate,\r\n      showDetail,\r\n      closeDetail\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.detail-title {\r\n  text-align: center;\r\n  margin: 0;\r\n}\r\n\r\n.detail-time {\r\n  text-align: center;\r\n  margin: 10px 0;\r\n}\r\n\r\n.detail-content {\r\n  margin-top: 20px;\r\n  text-indent: 2em;\r\n  line-height: 2;\r\n}\r\n\r\n.button-container {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","import { render } from \"./News.vue?vue&type=template&id=6c431798&scoped=true\"\nimport script from \"./News.vue?vue&type=script&lang=js\"\nexport * from \"./News.vue?vue&type=script&lang=js\"\n\nimport \"./News.vue?vue&type=style&index=0&id=6c431798&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Code\\\\Vue-Springboot-Library\\\\vue\\\\node_modules\\\\.store\\\\vue-loader@16.8.3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c431798\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@16.8.3/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@16.8.3/node_modules/vue-loader/dist/index.js??ref--1-1!./News.vue?vue&type=style&index=0&id=6c431798&scoped=true&lang=css\""],"sourceRoot":""}